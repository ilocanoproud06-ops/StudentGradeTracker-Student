<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>AcademicPro - Admin Portal</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.29/jspdf.plugin.autotable.min.js"></script>
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-auth-compat.js"></script>
    <script>
      // Your web app's Firebase configuration
      const firebaseConfig = {
        apiKey: "AIzaSyC3T9M61Ryll8scTGVWH5QdZKuAguWTzgw",
        authDomain: "studentgradetracker-e04c0.firebaseapp.com",
        projectId: "studentgradetracker-e04c0",
        storageBucket: "studentgradetracker-e04c0.firebasestorage.app",
        messagingSenderId: "886408200590",
        appId: "1:886408200590:web:c9fbdb028e5dcd442c64df",
      };

      // Initialize Firebase with error handling
      let app = null;
      let db = null;
      let auth = null;

      try {
        if (typeof firebase !== "undefined" && firebaseConfig.apiKey) {
          app = firebase.initializeApp(firebaseConfig);
          db = firebase.firestore();
          auth = firebase.auth();
          console.log("Firebase initialized successfully");
        } else {
          console.log("Firebase not available - using localStorage only");
        }
      } catch (error) {
        console.log("Firebase initialization error:", error.message);
        console.log("Using localStorage only - app will work offline");
      }

      // Force local-only mode - set to true if Firebase causes network issues
      window.FORCE_LOCAL_ONLY = false;
      if (window.FORCE_LOCAL_ONLY === true) {
        app = null;
        db = null;
        auth = null;
      }
    </script>
  </head>
  <body>
    <div class="d-flex" id="mainContent">
      <div class="bg-dark col-md-2 p-3" style="min-height: 100vh">
        <h5 class="text-white mb-4">
          <i class="fas fa-graduation-cap me-2"></i>AcademicPro
        </h5>
        <!-- Storage Mode Indicator -->
        <div class="mb-3 px-2">
          <div id="storageModeIndicator" class="badge bg-info w-100 py-2">
            <i class="fas fa-save me-1"></i>
            <span data-storage-mode>Local Mode</span>
          </div>
        </div>
        <ul class="nav flex-column">
          <li class="nav-item">
            <a class="nav-link active" href="#" data-section="dashboard"
              ><i class="fas fa-chart-line me-2"></i>Dashboard</a
            >
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#" data-section="courses"
              ><i class="fas fa-book me-2"></i>Courses</a
            >
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#" data-section="students"
              ><i class="fas fa-users me-2"></i>Students</a
            >
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#" data-section="enrollment"
              ><i class="fas fa-user-plus me-2"></i>Enrollment</a
            >
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#" data-section="grades"
              ><i class="fas fa-clipboard-list me-2"></i>Grade Entry</a
            >
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#" data-section="grading"
              ><i class="fas fa-scale-balanced me-2"></i>Grading Scale</a
            >
          </li>
          <li class="nav-item">
